<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L√ÅPIDA VERSION ‚Äî Tribute Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Cinzel:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --black:#060608;--dark:#0c0c10;--panel:#111116;--panel2:#16161c;
  --border:#1e1e26;--border2:#28282f;--border3:#32323c;
  --gold:#c8a84b;--gold2:#e6c96e;--gold3:#f0d98a;
  --gold-bg:rgba(200,168,75,0.06);--gold-bg2:rgba(200,168,75,0.12);
  --text:#ece6dc;--text2:#b8b0a4;--text3:#7a7268;
  --stone:#8a8880;--stone2:#6a6860;
  --red:#c0392b;--green:#27ae60;--success:#52b788;
  --radius:6px;--radius2:12px;
}

body{background:var(--black);color:var(--text);font-family:'DM Sans',sans-serif;min-height:100vh;overflow-x:hidden}

/* BACKGROUND ATMOSPHERE */
body::before{
  content:'';position:fixed;inset:0;
  background:
    radial-gradient(ellipse 80% 50% at 50% -10%,rgba(200,168,75,0.07) 0%,transparent 55%),
    radial-gradient(ellipse 40% 60% at 0% 100%,rgba(10,10,20,0.8) 0%,transparent 50%),
    radial-gradient(ellipse 40% 40% at 100% 80%,rgba(30,10,10,0.5) 0%,transparent 50%);
  pointer-events:none;z-index:0
}

/* STONE TEXTURE PATTERN */
body::after{
  content:'';position:fixed;inset:0;
  background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.012'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  pointer-events:none;z-index:0;opacity:.4
}

.wrap{max-width:820px;margin:0 auto;padding:0 20px 80px;position:relative;z-index:1}

/* ‚ïê‚ïê‚ïê HERO HEADER ‚ïê‚ïê‚ïê */
.hero{
  text-align:center;padding:60px 20px 48px;
  border-bottom:1px solid var(--border);
  margin-bottom:40px;position:relative
}

.hero-tombstone{
  display:inline-block;margin-bottom:28px;position:relative
}

.tombstone-svg{
  width:80px;opacity:.9;
  filter:drop-shadow(0 4px 20px rgba(200,168,75,0.3))
}

.hero-tag{
  font-family:'Cinzel',serif;font-size:9px;letter-spacing:.5em;
  color:var(--gold);text-transform:uppercase;opacity:.7;
  display:block;margin-bottom:16px
}

.hero h1{
  font-family:'Cinzel',serif;
  font-size:clamp(32px,6vw,58px);
  font-weight:700;line-height:1;
  color:var(--text);letter-spacing:.05em
}

.hero h1 .accent{
  display:block;color:var(--gold);
  font-size:clamp(14px,2.5vw,22px);
  font-weight:400;letter-spacing:.3em;
  margin-top:8px;font-family:'Cinzel',serif
}

.hero-divider{
  display:flex;align-items:center;justify-content:center;
  gap:16px;margin:20px 0 16px
}
.hero-divider-line{flex:1;max-width:120px;height:1px;background:linear-gradient(to right,transparent,var(--gold))}
.hero-divider-line.r{background:linear-gradient(to left,transparent,var(--gold))}
.hero-divider-icon{color:var(--gold);font-size:16px;opacity:.6}

.hero p{
  font-size:13px;color:var(--text3);letter-spacing:.06em;
  max-width:420px;margin:0 auto;line-height:1.7
}

/* ‚ïê‚ïê‚ïê STEP CARD ‚ïê‚ïê‚ïê */
.step-card{
  background:var(--panel);
  border:1px solid var(--border2);
  border-radius:var(--radius2);
  margin-bottom:20px;
  overflow:hidden;
  position:relative
}

.step-card::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent 0%,var(--gold) 30%,var(--gold2) 50%,var(--gold) 70%,transparent 100%)
}

.step-header{padding:28px 32px 0}
.step-badge{
  display:inline-flex;align-items:center;gap:8px;
  background:var(--gold-bg);border:1px solid rgba(200,168,75,.2);
  border-radius:20px;padding:5px 14px;margin-bottom:14px
}
.step-badge-num{
  font-family:'Cinzel',serif;font-size:11px;font-weight:600;
  color:var(--gold);letter-spacing:.1em
}
.step-badge-sep{color:rgba(200,168,75,.3);font-size:10px}
.step-badge-label{font-size:11px;color:var(--text2);letter-spacing:.05em}

.step-title{
  font-family:'Playfair Display',serif;font-size:22px;
  font-weight:700;color:var(--text);margin-bottom:6px
}
.step-desc{font-size:13px;color:var(--text3);line-height:1.7;margin-bottom:28px}

.step-body{padding:0 32px 32px}

/* ‚ïê‚ïê‚ïê MODE SELECTOR ‚ïê‚ïê‚ïê */
.mode-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}

.mode-btn{
  background:var(--dark);border:2px solid var(--border2);
  border-radius:var(--radius2);padding:28px 22px;
  cursor:pointer;text-align:left;transition:all .25s;
  color:var(--text);font-family:'DM Sans',sans-serif;
  position:relative;overflow:hidden
}
.mode-btn::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(200,168,75,0) 0%,rgba(200,168,75,0.04) 100%);
  opacity:0;transition:opacity .25s
}
.mode-btn:hover{border-color:var(--gold);transform:translateY(-2px);box-shadow:0 8px 32px rgba(0,0,0,0.4)}
.mode-btn:hover::after{opacity:1}
.mode-btn.active{border-color:var(--gold);background:var(--gold-bg)}
.mode-btn.active::after{opacity:1}

.mode-icon{font-size:32px;display:block;margin-bottom:14px}
.mode-label{
  font-family:'Cinzel',serif;font-size:13px;font-weight:600;
  letter-spacing:.1em;color:var(--gold);text-transform:uppercase;
  margin-bottom:8px
}
.mode-desc{font-size:12px;color:var(--text3);line-height:1.6}
.mode-check{
  position:absolute;top:16px;right:16px;width:20px;height:20px;
  border-radius:50%;border:2px solid var(--border3);
  display:flex;align-items:center;justify-content:center;
  transition:all .2s
}
.mode-btn.active .mode-check{
  background:var(--gold);border-color:var(--gold);
  color:var(--black);font-size:10px;font-weight:700
}

/* ‚ïê‚ïê‚ïê CATEGORY GRID ‚ïê‚ïê‚ïê */
.cat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
@media(max-width:560px){.cat-grid{grid-template-columns:repeat(2,1fr)}}

.cat-btn{
  background:var(--dark);border:2px solid var(--border2);
  border-radius:var(--radius2);padding:22px 16px;
  cursor:pointer;text-align:center;transition:all .25s;
  color:var(--text);font-family:'DM Sans',sans-serif;position:relative
}
.cat-btn:hover{border-color:var(--gold);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,0.4)}
.cat-btn.active{border-color:var(--gold);background:var(--gold-bg)}

.cat-icon{font-size:28px;display:block;margin-bottom:10px}
.cat-name{
  font-family:'Cinzel',serif;font-size:11px;font-weight:600;
  letter-spacing:.12em;text-transform:uppercase;color:var(--text);
  margin-bottom:6px;display:block
}
.cat-btn.active .cat-name{color:var(--gold)}
.cat-hint{font-size:10px;color:var(--text3);line-height:1.5;display:block}
.cat-check{
  position:absolute;top:10px;right:10px;width:16px;height:16px;
  border-radius:50%;border:1.5px solid var(--border3);font-size:8px;
  display:flex;align-items:center;justify-content:center;transition:all .2s
}
.cat-btn.active .cat-check{background:var(--gold);border-color:var(--gold);color:var(--black);font-weight:700}

/* ‚ïê‚ïê‚ïê FIELDS ‚ïê‚ïê‚ïê */
.fields-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media(max-width:500px){.fields-row{grid-template-columns:1fr}}

.field{margin-bottom:20px}
.field-label{
  display:flex;align-items:center;gap:8px;margin-bottom:6px
}
.field-label span{
  font-family:'Cinzel',serif;font-size:9px;letter-spacing:.3em;
  text-transform:uppercase;color:var(--gold);opacity:.85
}
.field-hint{font-size:11px;color:var(--text3);margin-bottom:10px;line-height:1.5}

.field input{
  width:100%;background:var(--dark);
  border:1.5px solid var(--border2);
  border-radius:var(--radius);color:var(--text);
  font-family:'DM Sans',sans-serif;font-size:14px;
  padding:14px 16px;outline:none;
  transition:border-color .2s,box-shadow .2s
}
.field input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(200,168,75,.08)}
.field input::placeholder{color:var(--text3);opacity:.7}

/* ‚ïê‚ïê‚ïê GEN BUTTON ‚ïê‚ïê‚ïê */
.gen-btn{
  width:100%;padding:20px;margin-top:10px;
  background:linear-gradient(135deg,var(--gold) 0%,var(--gold2) 50%,var(--gold) 100%);
  background-size:200% 100%;
  color:var(--black);border:none;border-radius:var(--radius);
  font-family:'Cinzel',serif;font-size:15px;font-weight:700;
  letter-spacing:.15em;text-transform:uppercase;
  cursor:pointer;transition:all .3s;
  box-shadow:0 4px 20px rgba(200,168,75,0.25)
}
.gen-btn:hover{background-position:100% 0;transform:translateY(-2px);box-shadow:0 8px 32px rgba(200,168,75,0.35)}
.gen-btn:active{transform:translateY(0)}
.gen-btn:disabled{background:var(--border2);color:var(--text3);cursor:not-allowed;transform:none;box-shadow:none}

/* ‚ïê‚ïê‚ïê LOADING ‚ïê‚ïê‚ïê */
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes pulse{0%,100%{opacity:.4}50%{opacity:1}}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}

.loading-card{
  background:var(--panel);border:1px solid var(--border2);
  border-radius:var(--radius2);padding:56px 32px;
  text-align:center;animation:fadeUp .4s ease
}
.spinner{
  width:40px;height:40px;border:2px solid var(--border2);
  border-top-color:var(--gold);border-radius:50%;
  animation:spin .8s linear infinite;margin:0 auto 24px
}
.loading-title{
  font-family:'Playfair Display',serif;font-size:22px;
  font-weight:700;color:var(--gold);margin-bottom:10px
}
.loading-dots{display:flex;justify-content:center;gap:6px;margin-top:16px}
.loading-dot{width:6px;height:6px;border-radius:50%;background:var(--gold);animation:pulse 1.2s ease infinite}
.loading-dot:nth-child(2){animation-delay:.2s}
.loading-dot:nth-child(3){animation-delay:.4s}

/* ‚ïê‚ïê‚ïê RESULTS ‚ïê‚ïê‚ïê */
.results{animation:fadeUp .5s ease}

/* SERIES SEO BLOCK */
.seo-card{
  background:var(--panel);border:1px solid var(--border2);
  border-radius:var(--radius2);margin-bottom:20px;
  overflow:hidden;position:relative
}
.seo-card::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,var(--gold),var(--gold2),var(--gold),transparent)
}
.seo-card-header{
  padding:24px 28px 20px;
  border-bottom:1px solid var(--border)
}
.seo-card-title{
  font-family:'Cinzel',serif;font-size:11px;letter-spacing:.3em;
  text-transform:uppercase;color:var(--gold);margin-bottom:4px
}
.seo-card-desc{font-size:12px;color:var(--text3);line-height:1.6}
.seo-card-body{padding:20px 28px 24px}

.title-option{
  background:var(--dark);border:1.5px solid var(--border2);
  border-radius:var(--radius);padding:16px 18px;
  margin-bottom:10px;display:flex;align-items:flex-start;
  gap:14px;transition:border-color .2s;cursor:default
}
.title-option:hover{border-color:var(--border3)}
.title-num{
  font-family:'Cinzel',serif;font-size:22px;font-weight:700;
  color:rgba(200,168,75,.2);flex-shrink:0;line-height:1;margin-top:2px
}
.title-text{font-size:13px;line-height:1.65;color:var(--text);flex:1}

.meta-block{
  background:var(--dark);border:1.5px solid var(--border2);
  border-radius:var(--radius);padding:18px;margin-bottom:10px
}
.meta-label{
  font-family:'Cinzel',serif;font-size:9px;letter-spacing:.3em;
  text-transform:uppercase;color:var(--gold);opacity:.7;margin-bottom:12px
}
.meta-text{font-size:12px;line-height:1.8;color:var(--text2);white-space:pre-wrap;word-break:break-word}

/* ‚ïê‚ïê‚ïê PAIR ACCORDION ‚ïê‚ïê‚ïê */
.pair-wrap{margin-bottom:16px}

.pair-trigger{
  background:var(--panel2);border:1.5px solid var(--border2);
  border-radius:var(--radius2);padding:22px 28px;
  display:flex;align-items:center;justify-content:space-between;
  cursor:pointer;transition:all .25s;gap:16px
}
.pair-trigger:hover{border-color:var(--gold);background:var(--panel)}
.pair-trigger.open{
  border-color:var(--gold);border-bottom-color:transparent;
  border-radius:var(--radius2) var(--radius2) 0 0;background:var(--panel)
}

.pair-trigger-left{flex:1}
.pair-counter{
  font-family:'Cinzel',serif;font-size:9px;letter-spacing:.3em;
  color:var(--text3);text-transform:uppercase;margin-bottom:6px
}
.pair-names{display:flex;align-items:baseline;gap:10px;flex-wrap:wrap;margin-bottom:6px}
.pair-dead{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;color:var(--text)}
.pair-plus{font-size:14px;color:var(--text3)}
.pair-alive{font-family:'Playfair Display',serif;font-size:16px;font-weight:400;color:var(--gold)}
.pair-chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{
  display:inline-flex;align-items:center;gap:5px;
  background:var(--dark);border:1px solid var(--border2);
  border-radius:20px;padding:3px 10px;font-size:10px;color:var(--text3)
}
.chip.gold{border-color:rgba(200,168,75,.25);color:var(--gold)}

.pair-arrow{
  width:32px;height:32px;border-radius:50%;
  border:1.5px solid var(--border2);
  display:flex;align-items:center;justify-content:center;
  color:var(--text3);font-size:14px;transition:all .3s;flex-shrink:0
}
.pair-trigger.open .pair-arrow{
  transform:rotate(180deg);border-color:var(--gold);color:var(--gold);
  background:var(--gold-bg)
}

.pair-body{
  background:var(--panel);border:1.5px solid var(--gold);
  border-top:none;border-radius:0 0 var(--radius2) var(--radius2);
  padding:28px;display:none
}
.pair-body.open{display:block;animation:fadeUp .3s ease}

/* ‚ïê‚ïê‚ïê OVERLAY PREVIEW ‚ïê‚ïê‚ïê */
.overlay-section{
  background:var(--dark);border:1.5px solid rgba(200,168,75,.2);
  border-radius:var(--radius2);padding:24px;margin-bottom:16px;
  position:relative;overflow:hidden
}
.overlay-section::before{
  content:'üé¨';position:absolute;top:16px;right:18px;
  font-size:22px;opacity:.15
}
.overlay-section-label{
  font-family:'Cinzel',serif;font-size:9px;letter-spacing:.35em;
  text-transform:uppercase;color:var(--gold);opacity:.8;margin-bottom:4px
}
.overlay-section-desc{font-size:11px;color:var(--text3);margin-bottom:18px;line-height:1.5}

.overlay-screen{
  background:#000;border-radius:8px;padding:20px 24px;
  margin-bottom:16px;border:1px solid #1a1a1a
}
.overlay-names{
  display:flex;justify-content:space-between;
  margin-bottom:14px;padding-bottom:12px;
  border-bottom:1px solid #1a1a1a
}
.overlay-n-dead{
  font-family:'Playfair Display',serif;font-size:14px;
  font-weight:700;color:#fff;letter-spacing:.05em
}
.overlay-n-live{
  font-family:'Playfair Display',serif;font-size:14px;
  font-weight:700;color:var(--gold);letter-spacing:.05em
}
.overlay-ages{
  display:flex;align-items:center;justify-content:center;
  gap:16px;margin-bottom:12px
}
.overlay-age-dead{
  font-family:'Playfair Display',serif;font-size:48px;
  font-weight:900;color:#e74c3c;line-height:1
}
.overlay-age-sep{
  display:flex;flex-direction:column;align-items:center;gap:3px;
  color:#444;font-size:11px
}
.overlay-age-sep span{font-size:18px}
.overlay-age-live{
  font-family:'Playfair Display',serif;font-size:48px;
  font-weight:900;color:#27ae60;line-height:1
}
.overlay-caption{
  text-align:center;font-size:11px;color:#666;
  letter-spacing:.08em;font-style:italic
}

/* ‚ïê‚ïê‚ïê PROMPT BLOCKS ‚ïê‚ïê‚ïê */
.block-section-title{
  display:flex;align-items:center;gap:10px;margin:24px 0 12px
}
.block-section-title .icon{font-size:18px}
.block-section-title .label{
  font-family:'Cinzel',serif;font-size:10px;letter-spacing:.25em;
  text-transform:uppercase;color:var(--text2)
}
.block-section-title .line{flex:1;height:1px;background:var(--border)}

.prompt-block{
  background:var(--black);border:1.5px solid var(--border2);
  border-radius:var(--radius);margin-bottom:10px;overflow:hidden;
  transition:border-color .2s
}
.prompt-block:hover{border-color:var(--border3)}

.prompt-block-top{
  display:flex;align-items:flex-start;justify-content:space-between;
  padding:14px 18px;border-bottom:1px solid var(--border);gap:12px
}
.prompt-block-info{flex:1}
.prompt-block-title{
  font-family:'Cinzel',serif;font-size:10px;letter-spacing:.2em;
  text-transform:uppercase;color:var(--gold);margin-bottom:4px
}
.prompt-block-sub{font-size:11px;color:var(--text3);line-height:1.4}

.copy-btn{
  display:flex;align-items:center;gap:6px;
  background:transparent;border:1.5px solid var(--border2);
  color:var(--text3);border-radius:var(--radius);
  padding:7px 16px;font-family:'DM Sans',sans-serif;
  font-size:11px;font-weight:600;letter-spacing:.05em;
  cursor:pointer;transition:all .2s;white-space:nowrap;flex-shrink:0
}
.copy-btn:hover{border-color:var(--gold);color:var(--gold);background:var(--gold-bg)}
.copy-btn.copied{border-color:var(--success);color:var(--success);background:rgba(82,183,136,.08)}

.prompt-content{
  padding:16px 18px;font-size:12px;line-height:1.85;
  color:var(--text2);white-space:pre-wrap;word-break:break-word;
  max-height:240px;overflow-y:auto;font-family:'DM Mono','Courier New',monospace
}
.prompt-content::-webkit-scrollbar{width:4px}
.prompt-content::-webkit-scrollbar-track{background:transparent}
.prompt-content::-webkit-scrollbar-thumb{background:var(--border2);border-radius:2px}

/* ANIMATION SPECIAL STYLE */
.anim-block{
  background:var(--black);border:1.5px solid var(--border2);
  border-radius:var(--radius);margin-bottom:10px;overflow:hidden
}
.anim-block-top{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 18px;border-bottom:1px solid var(--border);gap:12px
}
.anim-badge{
  display:inline-flex;align-items:center;gap:8px;
  font-family:'Cinzel',serif;font-size:9px;letter-spacing:.2em;
  text-transform:uppercase;color:var(--gold)
}
.anim-badge .num{
  width:24px;height:24px;border-radius:50%;
  background:var(--gold-bg);border:1px solid rgba(200,168,75,.3);
  display:flex;align-items:center;justify-content:center;
  font-size:11px;font-weight:700;color:var(--gold)
}
.anim-fixed-tag{
  font-size:9px;color:var(--text3);background:var(--panel2);
  border:1px solid var(--border);border-radius:20px;padding:2px 10px;
  letter-spacing:.05em
}
.anim-ai-tag{
  font-size:9px;color:var(--gold);background:var(--gold-bg);
  border:1px solid rgba(200,168,75,.2);border-radius:20px;padding:2px 10px;
  letter-spacing:.05em
}
.anim-content{
  padding:16px 18px;font-size:13px;line-height:1.8;color:var(--text2)
}
.anim-content .anim-header-line{
  font-family:'Cinzel',serif;font-size:11px;color:var(--gold);
  letter-spacing:.1em;margin-bottom:10px;opacity:.8
}
.anim-content .anim-body{font-size:13px;color:var(--text);line-height:1.8}

/* ‚ïê‚ïê‚ïê COPY ALL ‚ïê‚ïê‚ïê */
.copy-all-wrap{margin-top:24px;padding-top:24px;border-top:1px solid var(--border)}
.copy-all-btn{
  width:100%;padding:18px;
  background:transparent;
  border:1.5px solid var(--gold);color:var(--gold);
  border-radius:var(--radius);font-family:'Cinzel',serif;
  font-size:12px;font-weight:600;letter-spacing:.2em;
  text-transform:uppercase;cursor:pointer;transition:all .25s;
  display:flex;align-items:center;justify-content:center;gap:10px
}
.copy-all-btn:hover{background:var(--gold-bg2);box-shadow:0 4px 20px rgba(200,168,75,.2)}
.copy-all-btn.copied{border-color:var(--success);color:var(--success)}

/* ‚ïê‚ïê‚ïê INFO CALLOUT ‚ïê‚ïê‚ïê */
.callout{
  display:flex;gap:12px;padding:14px 16px;
  background:var(--dark);border:1px solid var(--border2);
  border-radius:var(--radius);margin-bottom:12px
}
.callout-icon{font-size:16px;flex-shrink:0;margin-top:1px}
.callout-text{font-size:11px;color:var(--text3);line-height:1.6}
.callout-text strong{color:var(--text2)}

/* ‚ïê‚ïê‚ïê ERROR ‚ïê‚ïê‚ïê */
.error-card{
  background:var(--panel);border:1.5px solid #8b1a1a;
  border-radius:var(--radius2);padding:40px;text-align:center
}
.error-title{
  font-family:'Playfair Display',serif;font-size:20px;
  color:#e74c3c;margin-bottom:10px
}
.error-msg{font-size:12px;color:var(--text3);margin-bottom:20px;line-height:1.6}
.error-tip{
  background:var(--dark);border:1px solid var(--border2);
  border-radius:var(--radius);padding:14px 16px;
  font-size:11px;color:var(--text3);text-align:left;line-height:1.8
}

.hidden{display:none!important}
hr.sep{border:none;border-top:1px solid var(--border);margin:20px 0}

@media(max-width:600px){
  .step-header,.step-body{padding-left:20px;padding-right:20px}
  .pair-body{padding:20px}
  .mode-grid{grid-template-columns:1fr}
  .seo-card-header,.seo-card-body{padding-left:20px;padding-right:20px}
  .pair-trigger{padding:18px 20px}
  .overlay-section{padding:18px}
}
</style>
</head>
<body>
<div class="wrap">

<!-- ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê -->
<div class="hero">
  <div class="hero-tombstone">
    <svg class="tombstone-svg" viewBox="0 0 80 100" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="stoneGrad" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#8a8880"/>
          <stop offset="100%" stop-color="#4a4846"/>
        </linearGradient>
        <linearGradient id="goldLine" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0%" stop-color="transparent"/>
          <stop offset="50%" stop-color="#c8a84b"/>
          <stop offset="100%" stop-color="transparent"/>
        </linearGradient>
      </defs>
      <!-- Base -->
      <rect x="4" y="82" width="72" height="14" rx="2" fill="url(#stoneGrad)" opacity=".9"/>
      <!-- Stone body -->
      <path d="M12 82 L12 42 Q12 12 40 10 Q68 12 68 42 L68 82 Z" fill="url(#stoneGrad)"/>
      <!-- Cross -->
      <rect x="37" y="22" width="6" height="20" rx="1" fill="#c8a84b" opacity=".7"/>
      <rect x="29" y="28" width="22" height="5" rx="1" fill="#c8a84b" opacity=".7"/>
      <!-- Oval portrait area -->
      <ellipse cx="40" cy="55" rx="12" ry="14" fill="#1a1a20" stroke="#c8a84b" stroke-width="1" opacity=".6"/>
      <!-- Gold accent line -->
      <rect x="0" y="82" width="80" height="1.5" fill="url(#goldLine)" opacity=".5"/>
    </svg>
  </div>

  <span class="hero-tag">TimeGlow Studio ¬∑ Generador IA</span>
  <h1>
    L√ÅPIDA VERSION
    <span class="accent">TRIBUTE GENERATOR</span>
  </h1>

  <div class="hero-divider">
    <div class="hero-divider-line"></div>
    <div class="hero-divider-icon">üïäÔ∏è</div>
    <div class="hero-divider-line r"></div>
  </div>

  <p>Genera en un clic todos los prompts, animaciones y metadatos para tu v√≠deo tributo viral</p>
</div>

<!-- ‚ïê‚ïê‚ïê PASO 1 ‚Äî MODO ‚ïê‚ïê‚ïê -->
<div class="step-card">
  <div class="step-header">
    <div class="step-badge">
      <span class="step-badge-num">PASO 01</span>
      <span class="step-badge-sep">¬∑</span>
      <span class="step-badge-label">Elige c√≥mo trabajar</span>
    </div>
    <div class="step-title">¬øAutom√°tico o manual?</div>
    <div class="step-desc">La IA puede sugerirte los mejores pares seg√∫n tu audiencia, o puedes introducir t√∫ el par que quieras.</div>
  </div>
  <div class="step-body">
    <div class="mode-grid">
      <button class="mode-btn active" id="modeAutoBtn" onclick="setMode('auto')">
        <span class="mode-icon">ü§ñ</span>
        <span class="mode-label">Serie Autom√°tica</span>
        <span class="mode-desc">La IA elige los 5 mejores pares con m√°ximo impacto emocional para tu audiencia</span>
        <div class="mode-check">‚úì</div>
      </button>
      <button class="mode-btn" id="modeManualBtn" onclick="setMode('manual')">
        <span class="mode-icon">‚úèÔ∏è</span>
        <span class="mode-label">Par Manual</span>
        <span class="mode-desc">T√∫ introduces el artista fallecido y la persona viva que le rinde homenaje</span>
        <div class="mode-check"></div>
      </button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê PASO 2A ‚Äî AUTO ‚ïê‚ïê‚ïê -->
<div id="autoSection" class="step-card">
  <div class="step-header">
    <div class="step-badge">
      <span class="step-badge-num">PASO 02</span>
      <span class="step-badge-sep">¬∑</span>
      <span class="step-badge-label">Categor√≠a</span>
    </div>
    <div class="step-title">¬øDe qu√© categor√≠a son los artistas?</div>
    <div class="step-desc">La IA seleccionar√° 5 pares ic√≥nicos optimizados para tu audiencia de EE.UU., Brasil y M√©xico (45‚Äì65 a√±os).</div>
  </div>
  <div class="step-body">
    <div class="cat-grid">
      <button class="cat-btn" onclick="selectCat('musicians',this)">
        <div class="cat-check"></div>
        <span class="cat-icon">üé§</span>
        <span class="cat-name">M√∫sicos</span>
        <span class="cat-hint">Pop ¬∑ Rock ¬∑ R&B ¬∑ Soul ¬∑ Latin</span>
      </button>
      <button class="cat-btn" onclick="selectCat('actors',this)">
        <div class="cat-check"></div>
        <span class="cat-icon">üé¨</span>
        <span class="cat-name">Actores</span>
        <span class="cat-hint">Hollywood cl√°sico ¬∑ 70s ‚Äì 2000s</span>
      </button>
      <button class="cat-btn" onclick="selectCat('boxers',this)">
        <div class="cat-check"></div>
        <span class="cat-icon">ü•ä</span>
        <span class="cat-name">Boxeadores</span>
        <span class="cat-hint">Leyendas del ring ¬∑ USA & Latin</span>
      </button>
      <button class="cat-btn" onclick="selectCat('footballers',this)">
        <div class="cat-check"></div>
        <span class="cat-icon">‚öΩ</span>
        <span class="cat-name">Futbolistas</span>
        <span class="cat-hint">Am√©rica Latina ¬∑ Global</span>
      </button>
      <button class="cat-btn" onclick="selectCat('presidents',this)">
        <div class="cat-check"></div>
        <span class="cat-icon">üèõÔ∏è</span>
        <span class="cat-name">Presidentes</span>
        <span class="cat-hint">L√≠deres mundiales ic√≥nicos</span>
      </button>
      <button class="cat-btn" onclick="selectCat('mixed',this)">
        <div class="cat-check"></div>
        <span class="cat-icon">‚ö°</span>
        <span class="cat-name">Mixto Viral</span>
        <span class="cat-hint">La IA elige la mezcla perfecta</span>
      </button>
    </div>
    <button class="gen-btn" id="autoGenBtn" style="margin-top:20px" onclick="generateAuto()" disabled>
      ü™¶ Generar Serie Completa con IA
    </button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê PASO 2B ‚Äî MANUAL ‚ïê‚ïê‚ïê -->
<div id="manualSection" class="step-card hidden">
  <div class="step-header">
    <div class="step-badge">
      <span class="step-badge-num">PASO 02</span>
      <span class="step-badge-sep">¬∑</span>
      <span class="step-badge-label">Introduce el par</span>
    </div>
    <div class="step-title">Datos del tributo</div>
    <div class="step-desc">Rellena los datos del artista fallecido y de la persona viva. La IA generar√° todos los prompts, efectos y metadatos autom√°ticamente.</div>
  </div>
  <div class="step-body">
    <div class="field">
      <div class="field-label"><span>ü™¶ Artista Fallecido ‚Äî Nombre completo</span></div>
      <div class="field-hint">Escr√≠belo exactamente como quieres que aparezca grabado en la l√°pida</div>
      <input type="text" id="nameDeceased" placeholder="ej. Elvis Presley" oninput="checkManual()"/>
    </div>
    <div class="fields-row">
      <div class="field">
        <div class="field-label"><span>üìÖ Fecha de Nacimiento</span></div>
        <div class="field-hint">En ingl√©s americano ‚Äî Month Day, Year</div>
        <input type="text" id="birthDate" placeholder="ej. January 8, 1935" oninput="checkManual()"/>
      </div>
      <div class="field">
        <div class="field-label"><span>üïäÔ∏è Fecha de Fallecimiento</span></div>
        <div class="field-hint">En ingl√©s americano ‚Äî Month Day, Year</div>
        <input type="text" id="deathDate" placeholder="ej. August 16, 1977" oninput="checkManual()"/>
      </div>
    </div>
    <div class="field">
      <div class="field-label"><span>üéóÔ∏è Persona Viva que Rinde Homenaje</span></div>
      <div class="field-hint">Presidente, rey, l√≠der mundial o celebridad reconocida globalmente</div>
      <input type="text" id="nameLiving" placeholder="ej. Donald Trump" oninput="checkManual()"/>
    </div>
    <div class="field">
      <div class="field-label"><span>üéÇ Edad Actual de la Persona Viva</span></div>
      <div class="field-hint">Se mostrar√° en el overlay del v√≠deo junto a la edad del fallecido</div>
      <input type="text" id="ageLiving" placeholder="ej. 78" oninput="checkManual()"/>
    </div>
    <button class="gen-btn" id="manualGenBtn" onclick="generateManual()" disabled>
      ü™¶ Generar Todos los Prompts
    </button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê RESULTADOS ‚ïê‚ïê‚ïê -->
<div id="resultsSection" class="hidden"></div>

</div><!-- /wrap -->

<script>
const GROQ_KEY = "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";
let currentMode = 'auto', selectedCat = null;

const GHOST_EFFECTS = [
  {name:"Golden Particle", style:"Wispy spirit dissolving into particles of light, warm golden hour glow"},
  {name:"Foggy", style:"Ghostly figure emerging from fog, partially transparent, moonlight shining through body"},
  {name:"White Robe", style:"Spectral figure with white flowing robes, ethereal and peaceful"},
  {name:"Golden Aura", style:"Translucent ghost with golden halo light, soft glow emanating from within"},
  {name:"Ethereal Ring", style:"Ethereal ghost with an angelic ring floating over the head"},
  {name:"Phantom", style:"Phantom draped in tattered white cloth, floating mid-air, surrounded by swirling ethereal smoke"},
  {name:"Golden Hour", style:"Softly luminous ghost in golden hour warmth, light leaks and retro blur, peaceful nostalgic aura"},
  {name:"Autumn Orange", style:"Ethereal ghost with autumn orange light filtering through, soft focus and vintage film texture, deeply nostalgic vibe"},
];

const ANIM1 = `[Kling 2.1 ‚Äî Animation 1: Place Flowers]

The man turns around and carefully places down the flowers on the gravestone.
Then turns back to face the camera with a solemn expression.

‚öôÔ∏è Use with: Prompt 1 image (tombstone scene)`;

function setMode(m) {
  currentMode = m;
  document.getElementById('modeAutoBtn').classList.toggle('active', m==='auto');
  document.getElementById('modeManualBtn').classList.toggle('active', m==='manual');
  document.getElementById('modeAutoBtn').querySelector('.mode-check').textContent = m==='auto' ? '‚úì' : '';
  document.getElementById('modeManualBtn').querySelector('.mode-check').textContent = m==='manual' ? '‚úì' : '';
  document.getElementById('autoSection').classList.toggle('hidden', m!=='auto');
  document.getElementById('manualSection').classList.toggle('hidden', m!=='manual');
  document.getElementById('resultsSection').classList.add('hidden');
  document.getElementById('resultsSection').innerHTML = '';
}

function selectCat(cat, btn) {
  selectedCat = cat;
  document.querySelectorAll('.cat-btn').forEach(b => {
    b.classList.remove('active');
    b.querySelector('.cat-check').textContent = '';
  });
  btn.classList.add('active');
  btn.querySelector('.cat-check').textContent = '‚úì';
  document.getElementById('autoGenBtn').disabled = false;
}

function checkManual() {
  const v = id => document.getElementById(id).value.trim();
  document.getElementById('manualGenBtn').disabled =
    !(v('nameDeceased') && v('nameLiving') && v('birthDate') && v('deathDate') && v('ageLiving'));
}

function buildP1(deceased, living, birth, death) {
  return JSON.stringify({
    INPUT_VARIABLES: {
      reference_person_A_deceased: deceased,
      reference_person_B_living: living,
      birth_date: birth,
      death_date: death
    },
    composition_blueprint: {
      framing_type: "Vertical 9:16 Portrait",
      alignment: "Perfectly Centered. Tombstone and living person as one visual element.",
      visual_split: "Asymmetrical 45/55. LEFT: tombstone + grave base. RIGHT: living person.",
      person_framing: "STRICT MEDIUM CLOSE-UP (Chest Up). NO waist, NO hips, NO legs visible.",
      depth_layering: "Living person IN FRONT of grave base ‚Äî foreground. Grave is mid-ground.",
      camera_height: "Eye-level with the Living Person."
    },
    camera_technical: {
      device: "iPhone 15 Pro Max ¬∑ 24mm lens ¬∑ f/11 Deep Focus",
      focus: "ABSOLUTELY NO BLUR, NO BOKEH ‚Äî everything razor sharp front to back",
      fidelity: "100% clean ¬∑ zero grain ¬∑ zero filters ¬∑ raw digital snapshot"
    },
    tombstone_specs: {
      structure: `Formal stone monument styled to reflect ${deceased}'s personality and legacy`,
      placement: "ALWAYS on the LEFT side of the frame",
      grave_base: "CLEARLY VISIBLE elevated grave base/platform extending horizontally",
      flowers: "Fresh flower arrangements ON TOP of grave base platform",
      portrait: `LARGE high-gloss ceramic oval photo of ${deceased} in their iconic prime/youth`,
      engraving: `Full Name: ${deceased} ¬∑ Born: ${birth} ¬∑ Died: ${death} ‚Äî NO BRACKETS`,
      text_quality: "Clean black lettering, deeply carved, 100% legible"
    },
    living_subject_specs: {
      identity: `${living} ‚Äî current aged realistic appearance`,
      placement: "FOREGROUND-RIGHT ¬∑ closer to camera than tombstone ¬∑ body overlaps grave right edge",
      flowers: "Holding fresh white lilies/roses at chest level close to heart",
      attire: "Respectful formal mourning wear ‚Äî black suit/coat",
      eye_contact: "Direct gaze into camera lens",
      expression: "SERIOUS, slightly mourning ¬∑ no smile ¬∑ no smirk ¬∑ subtle sadness in eyes"
    },
    environment: { location: "Peaceful, high-end memorial park ¬∑ visible trees and grass background" },
    technical: {
      aspect_ratio: "--ar 9:16",
      style: "Photorealistic viral social media snapshot ¬∑ High fidelity texture",
      negative_prompt: "full body, waist, hips, legs, feet, shoes, smile, smirk, blur, bokeh, film grain, noise, vignette, brackets, cartoon, illustration, bad crop, head cut off"
    }
  }, null, 2);
}

function buildP2(deceased, living, ghostStyle, bg) {
  return `[Hugging OR Arms around each other's shoulders]
A candid, hyper-realistic, 100% sharp iPhone 15 Pro Max photo.

‚îÄ‚îÄ INPUT REFERENCES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚Ä¢ REFERENCE 1 (Base Scene): Use the cemetery image from Prompt 1 as the master scene.
  Retain exact background, lighting, and ${living} on the RIGHT.
‚Ä¢ REFERENCE 2 (Deceased): Insert ${deceased} on the LEFT using their reference photo.

‚îÄ‚îÄ GHOST EFFECT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${deceased} appears as: ${ghostStyle}

‚îÄ‚îÄ POSE & INTERACTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Both characters face camera directly.
Hugging warmly OR arms around each other's shoulders.
Genuine emotion ¬∑ Both smiling at camera.

‚îÄ‚îÄ FRAMING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Medium-Wide Two-Shot ¬∑ Knees to Head

‚îÄ‚îÄ BACKGROUND ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${bg}
Maintain exact cemetery background from Reference 1.

‚îÄ‚îÄ TECHNICAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Natural daylight ¬∑ Zero grain ¬∑ 100% sharp ¬∑ No blur ¬∑ No bokeh

‚îÄ‚îÄ NEGATIVE PROMPT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
wings on right character, floating, transparent ghost, sticker effect,
bad compositing, blurry face, changed background, blur, bokeh,
cartoon, 3d render, extra fingers, deformed hands`;
}

function buildOverlayText(deceased, living, ageDead, ageLive, year, phrase) {
  return `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
CAPCUT / EDITOR ‚Äî OVERLAY TEXT
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

LINE 1 ‚Äî Names (top of screen):
${deceased.toUpperCase()}     ¬∑     ${living.toUpperCase()}

LINE 2 ‚Äî Ages (center, LARGE):
${ageDead}  ü™¶  AGE  ${ageLive}

LINE 3 ‚Äî Caption (bottom):
Gone ${year} ‚Äî ${phrase}

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
STYLING GUIDE:
‚Ä¢ Line 1: White Bold ¬∑ 36‚Äì44px ¬∑ both sides
‚Ä¢ Age left (${ageDead}): RED ¬∑ 80‚Äì100px ¬∑ Extra Bold
‚Ä¢ Age right (${ageLive}): GREEN ¬∑ 80‚Äì100px ¬∑ Extra Bold
‚Ä¢ Line 3: White Italic ¬∑ 26‚Äì32px
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;
}

async function callGroq(systemMsg, userMsg) {
  const body = JSON.stringify({
    model: "llama-3.3-70b-versatile",
    messages: [
      { role: "system", content: systemMsg },
      { role: "user", content: userMsg }
    ],
    temperature: 1.0,
    max_tokens: 4500,
  });
  const urls = [
    "https://api.groq.com/openai/v1/chat/completions",
    "https://corsproxy.io/?" + encodeURIComponent("https://api.groq.com/openai/v1/chat/completions"),
  ];
  let lastErr;
  for (const url of urls) {
    try {
      const r = await fetch(url, {
        method: "POST",
        headers: { "Authorization": `Bearer ${GROQ_KEY}`, "Content-Type": "application/json" },
        body
      });
      if (!r.ok) throw new Error(`HTTP ${r.status}`);
      const j = await r.json();
      const raw = j.choices[0].message.content.trim().replace(/```json\n?|```/g, '').trim();
      return JSON.parse(raw);
    } catch(e) { lastErr = e; }
  }
  throw lastErr || new Error("No se pudo conectar con Groq");
}

const SYSTEM_PROMPT = `You are an elite YouTube Shorts content strategist specializing in VIRAL tribute videos about deceased legends. You have generated hundreds of viral videos with 1M+ views.

You understand deeply the 5 PRINCIPLES of an unstoppable YouTube title:
1. ACTIVATE A CONCRETE EMOTION ‚Äî loss, threat, betrayal, nostalgia, shock. NEVER neutral descriptions.
2. UNDERSTOOD IN UNDER 1 SECOND ‚Äî clear subject, clear pain, no ambiguity
3. CONNECT WITH EXISTING TENSION ‚Äî the viewer already feels this pain. You are naming it for them.
4. TITLE + THUMBNAIL AS A SYSTEM ‚Äî title plants the question, thumbnail suggests the answer
5. LEAVE ONE PIECE STRATEGICALLY UNRESOLVED ‚Äî the brain MUST click to close the loop

MANDATORY TITLE RULES:
‚ùå BAD (NEVER generate these): "Tribute to Legends üíóüé∏", "Honoring the Fallen", "Echoes of the Past", "Music Icons Then and Now", "Presidents Pay Tribute"
‚úÖ GOOD (this is the required standard):
- "Even [LIVING PERSON] Couldn't Hold Back Tears at [DECEASED]'s Grave ‚Äî Nobody Expected This üò¢üíî"
- "They Gave Everything to the World ‚Äî Then the Most Powerful Men on Earth Came to Say Goodbye üò±üïäÔ∏è"
- "[DECEASED] Left at [AGE] ‚Äî [LIVING PERSON] Is [AGE] Today and Still Can't Let Go üíîüò¢"
- "The World Begged Them to Stay ‚Äî Even [LIVING PERSON] Showed Up to Apologize üò±"

Titles MUST: mention specific names when possible, reference the emotional contrast of powerful living people mourning legends, use American English, be devastating and specific.

You respond ONLY with valid JSON. No markdown, no explanation, no extra text.`;

async function generateManual() {
  const deceased = document.getElementById('nameDeceased').value.trim();
  const living = document.getElementById('nameLiving').value.trim();
  const birth = document.getElementById('birthDate').value.trim();
  const death = document.getElementById('deathDate').value.trim();
  const ageLiving = document.getElementById('ageLiving').value.trim();
  const by = parseInt(birth.match(/\d{4}/)?.[0]);
  const dy = parseInt(death.match(/\d{4}/)?.[0]);
  const ageDead = (by && dy) ? dy - by : '?';

  showLoading();

  try {
    const d = await callGroq(SYSTEM_PROMPT, `Generate all content for this tribute pair:
DECEASED: ${deceased} | Born: ${birth} | Died: ${death} | Age at death: ${ageDead}
LIVING TRIBUTE GIVER: ${living} | Current age: ${ageLiving}

{
  "ghostEffect": "Choose the most emotionally fitting: Golden Particle / Foggy / White Robe / Golden Aura / Ethereal Ring / Phantom / Golden Hour / Autumn Orange ‚Äî base it on ${deceased}'s personality, music style, and legacy",
  "ghostStyle": "The complete ghost style description sentence for the image prompt",
  "background": "A very specific, visually spectacular and cinematic cemetery or memorial park scene description. Be evocative and detailed.",
  "anim2": "A unique, deeply emotional Kling 2.1 animation for the reunion of ${deceased}'s spirit and ${living}. Must be cinematic, sentimental, and specific to this pair. Start with: [Kling 2.1 ‚Äî Animation 2: Reunion]\\n\\n then describe the movement clearly.",
  "anim3": "A unique Kling 2.1 camera pan transition to reveal the next tribute pair. Smooth and cinematic. Start with: [Kling 2.1 ‚Äî Animation 3: Pan Transition]\\n\\n then describe the camera movement clearly.",
  "overlayPhrase": "A devastatingly emotional 3-5 word American English phrase. Examples: Gone Too Soon, Forever In Our Hearts, The World Wept, Left Too Early, Heaven Got a Legend",
  "titles": [
    "Title 1 ‚Äî DEVASTATING American English. Apply all 5 principles. Reference ${living} mourning ${deceased} specifically. Use their ages if emotionally powerful (${ageDead} vs ${ageLiving}). 1-2 emotional emojis. NOT generic.",
    "Title 2 ‚Äî COMPLETELY DIFFERENT emotional angle. Same 5 principles. Different emoji.",
    "Title 3 ‚Äî COMPLETELY DIFFERENT emotional angle. Same 5 principles. Different emoji."
  ],
  "description": "Emotionally charged YouTube Shorts description in American English. 2-3 powerful sentences. End with relevant hashtags including both names.",
  "tags": ["15 specific SEO tags as strings ‚Äî include both names, genre, emotional keywords"]
}`);

    renderManual({
      deceased, living, birth, death, ageDead, ageLiving: ageLiving, deathYear: dy,
      ghostEffect: d.ghostEffect, ghostStyle: d.ghostStyle, background: d.background,
      prompt1: buildP1(deceased, living, birth, death),
      prompt2: buildP2(deceased, living, d.ghostStyle, d.background),
      anim1: ANIM1, anim2: d.anim2, anim3: d.anim3,
      overlay: buildOverlayText(deceased, living, ageDead, ageLiving, dy, d.overlayPhrase),
      overlayPhrase: d.overlayPhrase,
      titles: d.titles, description: d.description, tags: d.tags,
    });
  } catch(e) { showError(e.message); }
}

const CAT_PROMPTS = {
  musicians: "iconic DECEASED music artists (Pop, Rock, R&B, Soul, Latin) paired with living presidents, kings, or world leaders. Focus on artists DEEPLY beloved by 45-65 year olds from USA, Brazil and Mexico. Maximum emotional devastation.",
  actors: "iconic DECEASED Hollywood actors from the 1970s-2000s paired with living A-list actors or world leaders. Golden age cinema this demographic grew up watching.",
  boxers: "iconic DECEASED boxing legends paired with living boxing champions or presidents. USA and Latin American focus.",
  footballers: "iconic DECEASED football/soccer legends paired with living football icons or world leaders. Strong Latin American focus.",
  presidents: "iconic DECEASED world leaders paired with living world leaders. Maximum historical and emotional contrast.",
  mixed: "5 diverse DECEASED icons from different fields (music, sports, acting, politics) each paired with the most emotionally devastating living tribute giver. Maximum viral impact for 45-65 year old USA/Brazil/Mexico audience.",
};

async function generateAuto() {
  showLoading();
  try {
    const d = await callGroq(SYSTEM_PROMPT, `Generate a complete 5-pair tribute video series.
Category: ${CAT_PROMPTS[selectedCat]}

CRITICAL RULES:
- Every deceased person MUST be VERIFIABLY DECEASED (do not invent deaths)
- Each pair must have a DIFFERENT ghost effect
- Each pair must have UNIQUE anim2 and anim3 ‚Äî never repeat camera movements
- Maximum emotional resonance for 45-65 yr old USA/Brazil/Mexico audience
- Ghost effects must match the artist's personality

{
  "pairs": [{
    "deceased": "Full name",
    "living": "Full name",
    "birth": "Month Day, Year",
    "death": "Month Day, Year",
    "ageDeceased": number,
    "ageLiving": number,
    "deathYear": number,
    "ghostEffect": "one of the 8 effects",
    "ghostStyle": "full ghost style description sentence",
    "background": "specific visually spectacular memorial location ‚Äî detailed and cinematic",
    "anim2": "unique emotional Kling 2.1 reunion. Start [Kling 2.1 ‚Äî Animation 2: Reunion]\\n\\n then describe clearly",
    "anim3": "unique Kling 2.1 pan transition. Start [Kling 2.1 ‚Äî Animation 3: Pan Transition]\\n\\n then describe clearly",
    "overlayPhrase": "3-5 word devastating American English phrase"
  }],
  "seriesTitles": [
    "Series Title 1 ‚Äî DEVASTATING American English. All 5 principles. Reference powerful living people mourning deceased legends. Specific names if possible. 1-2 emojis. NOT generic.",
    "Series Title 2 ‚Äî completely different emotional angle",
    "Series Title 3 ‚Äî completely different emotional angle"
  ],
  "seriesDescription": "Emotionally charged series description American English 2-3 powerful sentences + hashtags",
  "seriesTags": ["15 specific SEO tags"]
}`);

    const pairs = d.pairs.map(p => ({
      ...p,
      ageDead: p.ageDeceased,
      prompt1: buildP1(p.deceased, p.living, p.birth, p.death),
      prompt2: buildP2(p.deceased, p.living, p.ghostStyle, p.background),
      anim1: ANIM1,
      overlay: buildOverlayText(p.deceased, p.living, p.ageDeceased, p.ageLiving, p.deathYear, p.overlayPhrase),
    }));
    renderAuto(pairs, d);
  } catch(e) { showError(e.message); }
}

/* ‚ïê‚ïê‚ïê RENDER ‚ïê‚ïê‚ïê */

function renderManual(p) {
  const sec = document.getElementById('resultsSection');
  sec.innerHTML = ''; sec.classList.remove('hidden');

  // SEO block
  const seoEl = buildSeoBlock(p.titles, p.description, p.tags, false);
  sec.appendChild(seoEl);

  // Pair card
  sec.appendChild(buildPairCard(p, 0));

  // Copy all
  sec.appendChild(buildCopyAllEl(buildAllText([p], false, null)));

  setTimeout(() => { openPair('pair0'); sec.scrollIntoView({behavior:'smooth', block:'start'}); }, 150);
}

function renderAuto(pairs, d) {
  const sec = document.getElementById('resultsSection');
  sec.innerHTML = ''; sec.classList.remove('hidden');

  const seoEl = buildSeoBlock(d.seriesTitles, d.seriesDescription, d.seriesTags, true);
  sec.appendChild(seoEl);

  pairs.forEach((p, i) => sec.appendChild(buildPairCard(p, i)));

  sec.appendChild(buildCopyAllEl(buildAllText(pairs, true, d)));

  setTimeout(() => { openPair('pair0'); sec.scrollIntoView({behavior:'smooth', block:'start'}); }, 150);
}

function buildSeoBlock(titles, desc, tags, isSeries) {
  const wrap = document.createElement('div');
  wrap.className = 'seo-card';
  const titlesHtml = (titles||[]).map((t,i) => `
    <div class="title-option">
      <div class="title-num">0${i+1}</div>
      <div class="title-text" id="tit${i}">${t}</div>
      <button class="copy-btn" onclick="copyEl('tit${i}',this)">üìã Copiar</button>
    </div>
  `).join('');

  wrap.innerHTML = `
    <div class="seo-card-header">
      <div class="seo-card-title">üì∫ ${isSeries ? 'Metadatos de la Serie' : 'T√≠tulos para YouTube'}</div>
      <div class="seo-card-desc">${isSeries ? 'Elige el t√≠tulo que mejor represente toda la serie. Descripci√≥n y tags son para el v√≠deo completo.' : 'La IA ha generado 3 t√≠tulos con distintos √°ngulos emocionales. Elige el m√°s impactante.'}</div>
    </div>
    <div class="seo-card-body">
      ${titlesHtml}
      <div class="meta-block" style="margin-top:16px">
        <div class="meta-label">üìù Descripci√≥n</div>
        <div class="meta-text" id="seodesc">${desc||''}</div>
        <button class="copy-btn" style="margin-top:12px" onclick="copyEl('seodesc',this)">üìã Copiar Descripci√≥n</button>
      </div>
      <div class="meta-block">
        <div class="meta-label">üè∑Ô∏è Etiquetas / Tags SEO</div>
        <div class="meta-text" id="seotags">${(tags||[]).join(', ')}</div>
        <button class="copy-btn" style="margin-top:12px" onclick="copyEl('seotags',this)">üìã Copiar Tags</button>
      </div>
    </div>
  `;
  return wrap;
}

function buildPairCard(p, i) {
  const id = `pair${i}`;

  // ‚îÄ‚îÄ HEADER (trigger) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const wrap = document.createElement('div');
  wrap.className = 'pair-wrap';

  const trigger = document.createElement('div');
  trigger.className = 'pair-trigger';
  trigger.id = `hdr${id}`;
  trigger.onclick = () => togglePair(id);
  trigger.innerHTML = `
    <div class="pair-trigger-left">
      <div class="pair-counter">Par ${i+1} de la serie</div>
      <div class="pair-names">
        <span class="pair-dead">${esc(p.deceased)}</span>
        <span class="pair-plus">+</span>
        <span class="pair-alive">${esc(p.living)}</span>
      </div>
      <div class="pair-chips">
        <span class="chip">ü™¶ Muri√≥ a los ${p.ageDead||p.ageDeceased}</span>
        <span class="chip">${esc(p.living)} ¬∑ ${p.ageLiving} a√±os hoy</span>
        <span class="chip gold">üëª ${esc(p.ghostEffect)}</span>
      </div>
    </div>
    <div class="pair-arrow">‚ñæ</div>`;

  // ‚îÄ‚îÄ BODY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const body = document.createElement('div');
  body.className = 'pair-body';
  body.id = `body${id}`;

  // ‚Äî OVERLAY ‚Äî
  const ovKey = `ov_${id}`;
  storeText(ovKey, p.overlay);
  const ovBtn = document.createElement('button');
  ovBtn.className = 'copy-btn';
  ovBtn.id = ovKey;
  ovBtn.style.cssText = 'width:100%;justify-content:center';
  ovBtn.textContent = 'üìã Copiar Texto Overlay Completo';
  ovBtn.onclick = () => copyStored(ovKey, ovKey);

  const ovSection = document.createElement('div');
  ovSection.className = 'overlay-section';
  ovSection.innerHTML = `
    <div class="overlay-section-label">üé¨ Texto Overlay para el Editor</div>
    <div class="overlay-section-desc">Copia y pega este texto en CapCut, Premiere o DaVinci. N√∫mero izquierdo en ROJO, derecho en VERDE.</div>
    <div class="overlay-screen">
      <div class="overlay-names">
        <span class="overlay-n-dead">${esc(p.deceased.toUpperCase())}</span>
        <span class="overlay-n-live">${esc(p.living.toUpperCase())}</span>
      </div>
      <div class="overlay-ages">
        <span class="overlay-age-dead">${p.ageDead||p.ageDeceased}</span>
        <div class="overlay-age-sep"><span>ü™¶</span>AGE</div>
        <span class="overlay-age-live">${p.ageLiving}</span>
      </div>
      <div class="overlay-caption">Gone ${p.deathYear} ‚Äî ${esc(p.overlayPhrase||'')}</div>
    </div>`;
  ovSection.appendChild(ovBtn);
  body.appendChild(ovSection);

  // ‚Äî PROMPT 1 ‚Äî
  body.appendChild(mkSectionTitle('üì∏', 'Imagen 1 ‚Äî L√°pida'));
  body.appendChild(mkCallout('Midjourney, DALL-E o Flux. Imagen est√°tica base ‚Äî persona viva frente a la l√°pida.'));
  body.appendChild(mkPromptBlock('Prompt 1 ‚Äî Imagen L√°pida (JSON)', 'Pega este JSON en tu generador de im√°genes', p.prompt1, `p1_${id}`));

  // ‚Äî PROMPT 2 ‚Äî
  body.appendChild(mkSectionTitle('üëª', `Imagen 2 ‚Äî Reuni√≥n Espiritual ¬∑ ${p.ghostEffect}`));
  body.appendChild(mkCallout(`Midjourney o Flux con imagen de referencia. Necesitas Prompt 1 + foto del artista fallecido.`));
  body.appendChild(mkPromptBlock(`Prompt 2 ‚Äî Reuni√≥n Espiritual (${p.ghostEffect})`, `${p.deceased} aparece como esp√≠ritu junto a ${p.living}`, p.prompt2, `p2_${id}`));

  // ‚Äî ANIMACIONES ‚Äî
  body.appendChild(mkSectionTitle('üé¨', 'Animaciones Kling 2.1'));
  body.appendChild(mkCallout('Kling AI v2.1. Genera las 3 animaciones usando las im√°genes como referencia.'));
  body.appendChild(mkAnimBlock(1, 'Dejar Flores en la L√°pida', 'Igual para todos los v√≠deos ‚Äî no cambia nunca', false, p.anim1, `a1_${id}`));
  body.appendChild(mkAnimBlock(2, 'Reuni√≥n Emocional', 'Generada por IA exclusivamente para este par', true, p.anim2, `a2_${id}`));
  body.appendChild(mkAnimBlock(3, 'Transici√≥n al Siguiente Par', 'Generada por IA exclusivamente para este par', true, p.anim3, `a3_${id}`));

  wrap.appendChild(trigger);
  wrap.appendChild(body);
  return wrap;
}

function mkSectionTitle(icon, label) {
  const d = document.createElement('div');
  d.className = 'block-section-title';
  d.innerHTML = `<span class="icon">${icon}</span><span class="label">${esc(label)}</span><div class="line"></div>`;
  return d;
}

function mkCallout(text) {
  const d = document.createElement('div');
  d.className = 'callout';
  d.innerHTML = `<span class="callout-icon">üí°</span><div class="callout-text"><strong>D√≥nde usar:</strong> ${esc(text)}</div>`;
  return d;
}

// ‚ïê‚ïê‚ïê SAFE TEXT STORE ‚Äî evita que caracteres especiales rompan los onclick ‚ïê‚ïê‚ïê
const STORE = {};
function storeText(id, text) { STORE[id] = text; }
function copyStored(id, btnId) {
  const text = STORE[id] || '';
  navigator.clipboard.writeText(text).then(() => {
    const b = document.getElementById(btnId);
    if (b) { const o = b.textContent; b.textContent = '‚úì Copiado!'; b.classList.add('copied'); setTimeout(() => { b.textContent = o; b.classList.remove('copied'); }, 2000); }
  }).catch(() => {
    // fallback para navegadores sin clipboard API
    const ta = document.createElement('textarea');
    ta.value = text; ta.style.position = 'fixed'; ta.style.opacity = '0';
    document.body.appendChild(ta); ta.select(); document.execCommand('copy');
    document.body.removeChild(ta);
    const b = document.getElementById(btnId);
    if (b) { const o = b.textContent; b.textContent = '‚úì Copiado!'; b.classList.add('copied'); setTimeout(() => { b.textContent = o; b.classList.remove('copied'); }, 2000); }
  });
}

function mkPromptBlock(title, sub, text, id) {
  storeText(id, text);

  const block = document.createElement('div');
  block.className = 'prompt-block';

  const btn = document.createElement('button');
  btn.className = 'copy-btn';
  btn.id = `btn_${id}`;
  btn.textContent = 'üìã Copiar';
  btn.onclick = () => copyStored(id, `btn_${id}`);

  const top = document.createElement('div');
  top.className = 'prompt-block-top';
  top.innerHTML = `<div class="prompt-block-info"><div class="prompt-block-title">${esc(title)}</div><div class="prompt-block-sub">${esc(sub)}</div></div>`;
  top.appendChild(btn);

  const content = document.createElement('div');
  content.className = 'prompt-content';
  content.textContent = text; // textContent es 100% seguro, no interpreta HTML

  block.appendChild(top);
  block.appendChild(content);
  return block;
}

function mkAnimBlock(num, title, sub, isAi, text, id) {
  storeText(id, text);

  const lines = (text||'').split('\n');
  const header = lines[0] || '';
  const bodyText = lines.slice(1).join('\n').trim();

  const block = document.createElement('div');
  block.className = 'anim-block';

  const btn = document.createElement('button');
  btn.className = 'copy-btn';
  btn.id = `btn_${id}`;
  btn.textContent = 'üìã Copiar';
  btn.onclick = () => copyStored(id, `btn_${id}`);

  const top = document.createElement('div');
  top.className = 'anim-block-top';

  const badge = document.createElement('div');
  badge.className = 'anim-badge';
  badge.innerHTML = `<div class="num">${num}</div> ${esc(title)}`;

  const tagWrap = document.createElement('div');
  tagWrap.style.cssText = 'display:flex;align-items:center;gap:8px';
  const tag = document.createElement('span');
  tag.className = isAi ? 'anim-ai-tag' : 'anim-fixed-tag';
  tag.textContent = isAi ? '‚ú® IA Generada' : 'üîí Fija';
  tagWrap.appendChild(tag);
  tagWrap.appendChild(btn);

  top.appendChild(badge);
  top.appendChild(tagWrap);

  const content = document.createElement('div');
  content.className = 'anim-content';

  const headerLine = document.createElement('div');
  headerLine.className = 'anim-header-line';
  headerLine.textContent = header;

  const bodyLine = document.createElement('div');
  bodyLine.className = 'anim-body';
  bodyLine.textContent = bodyText;

  content.appendChild(headerLine);
  content.appendChild(bodyLine);

  block.appendChild(top);
  block.appendChild(content);
  return block;
}

function buildCopyAllEl(allText) {
  storeText('copyAll', allText);
  const wrap = document.createElement('div');
  wrap.className = 'copy-all-wrap';
  wrap.innerHTML = `<button class="copy-all-btn" id="copyAllBtn" onclick="copyStored('copyAll','copyAllBtn')">üìã Copiar Todo ‚Äî Todos los Prompts y Metadatos</button>`;
  return wrap;
}

function buildAllText(pairs, isSeries, d) {
  let t = '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\nTRIBUTE GENERATOR ‚Äî FULL OUTPUT\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n';
  if (isSeries && d) {
    t += `SERIES TITLES:\n${(d.seriesTitles||[]).join('\n')}\n\nDESCRIPTION:\n${d.seriesDescription}\n\nTAGS:\n${(d.seriesTags||[]).join(', ')}\n\n`;
  }
  pairs.forEach((p,i) => {
    t += `\n‚ïê‚ïê‚ïê PAR ${i+1}: ${p.deceased.toUpperCase()} + ${p.living.toUpperCase()} ‚ïê‚ïê‚ïê\n\n`;
    t += `OVERLAY:\n${p.overlay}\n\nPROMPT 1:\n${p.prompt1}\n\nPROMPT 2 (${p.ghostEffect}):\n${p.prompt2}\n\nANIMATION 1:\n${p.anim1}\n\nANIMATION 2:\n${p.anim2}\n\nANIMATION 3:\n${p.anim3}\n\n`;
    if (p.titles) t += `TITLES:\n${p.titles.join('\n')}\n\nDESCRIPTION:\n${p.description}\n\nTAGS:\n${(p.tags||[]).join(', ')}\n\n`;
  });
  return t;
}

function togglePair(id) {
  const h = document.getElementById('hdr'+id);
  const b = document.getElementById('body'+id);
  const isOpen = h.classList.contains('open');
  h.classList.toggle('open', !isOpen);
  b.classList.toggle('open', !isOpen);
}
function openPair(id) {
  document.getElementById('hdr'+id)?.classList.add('open');
  document.getElementById('body'+id)?.classList.add('open');
}
function copyEl(id, btn) {
  navigator.clipboard.writeText(document.getElementById(id)?.textContent||'').then(() => {
    const o = btn.textContent; btn.textContent = '‚úì Copiado'; btn.classList.add('copied');
    setTimeout(() => { btn.textContent = o; btn.classList.remove('copied'); }, 2000);
  }).catch(() => {
    const text = document.getElementById(id)?.textContent||'';
    const ta = document.createElement('textarea');
    ta.value = text; ta.style.position = 'fixed'; ta.style.opacity = '0';
    document.body.appendChild(ta); ta.select(); document.execCommand('copy');
    document.body.removeChild(ta);
    const o = btn.textContent; btn.textContent = '‚úì Copiado'; btn.classList.add('copied');
    setTimeout(() => { btn.textContent = o; btn.classList.remove('copied'); }, 2000);
  });
}
function copyText(text, btnId) {
  navigator.clipboard.writeText(text).then(() => {
    if (btnId) {
      const b = document.getElementById(btnId);
      if (b) { const o = b.textContent; b.textContent = '‚úì Copiado!'; b.classList.add('copied'); setTimeout(() => { b.textContent = o; b.classList.remove('copied'); }, 2000); }
    }
  });
}
function esc(t) { return (t||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

function showLoading() {
  const s = document.getElementById('resultsSection');
  s.classList.remove('hidden');
  s.innerHTML = `
    <div class="loading-card">
      <div style="font-size:40px;margin-bottom:20px">ü™¶</div>
      <div class="spinner"></div>
      <div class="loading-title">Generando tu tributo...</div>
      <p style="font-size:12px;color:var(--text3);margin-top:8px;line-height:1.7">La IA est√° eligiendo los mejores pares,<br>efectos fantasma, animaciones y metadatos</p>
      <div class="loading-dots"><div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div></div>
    </div>`;
  s.scrollIntoView({behavior:'smooth', block:'start'});
}

function showError(msg) {
  document.getElementById('resultsSection').innerHTML = `
    <div class="error-card">
      <div style="font-size:36px;margin-bottom:16px">‚ö†Ô∏è</div>
      <div class="error-title">Error de conexi√≥n con Groq</div>
      <div class="error-msg">${msg}</div>
      <div class="error-tip">
        üí° <strong style="color:var(--gold)">Soluci√≥n:</strong> Sube este archivo a GitHub Pages para que Groq funcione correctamente sin restricciones CORS.<br><br>
        Desde GitHub Pages ‚Üí funciona perfectamente. üöÄ
      </div>
    </div>`;
}
</script>
</body>
</html>
